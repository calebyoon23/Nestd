<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Home — Nestd</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <header>
        <nav>
            <div class="logo">
                <a href="home.html"><img src="images/nestd-logo.png" alt="Nestd logo"/></a>
            </div>

            <ul class="nav-links">
                <li><a href="home.html">Home</a></li>
                <li><a href="index.html">Browse Apartments</a></li>
                <li><a href="home.html#about">About</a></li>
                <li><a href="home.html#contact">Contact</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <!-- Hero with image and overlay text -->
        <section class="home-hero" aria-label="Find your next nest">
            <div class="home-hero-image" role="img" aria-hidden="true"></div>
            <div class="home-hero-overlay">
                <h1 class="home-hero-title">FIND YOUR NEXT NEST</h1>
                <p class="home-hero-sub">finding an apartment has never been easier</p>
            </div>

            <!-- Scrolling pane of college logos moved into the hero so it sits flush -->
            <div class="college-logos in-hero" aria-label="Colleges">
                <div class="logo-scroller" aria-hidden="false">
                    <div class="scroller-track" aria-hidden="false">
                        <a class="scroller-item" href="college.html?college=indiana" aria-label="Indiana University">
                            <img src="images/logos/iu.svg" alt="Indiana University logo">
                            <span class="college-name visually-hidden">Indiana University</span>
                        </a>
                        <a class="scroller-item" href="college.html?college=purdue" aria-label="Purdue">
                            <img src="images/logos/purdue.png" alt="Purdue University logo">
                            <span class="college-name visually-hidden">Purdue</span>
                        </a>
                        <a class="scroller-item" href="college.html?college=illinois" aria-label="University of Illinois">
                            <img src="images/logos/illinois.png" alt="University of Illinois logo">
                            <span class="college-name visually-hidden">University of Illinois</span>
                        </a>
                        <a class="scroller-item" href="college.html?college=wisconsin" aria-label="University of Wisconsin Madison">
                            <img src="images/logos/uwmadison.svg" alt="University of Wisconsin Madison logo">
                            <span class="college-name visually-hidden">University of Wisconsin Madison</span>
                        </a>
                        <a class="scroller-item" href="college.html?college=michigan" aria-label="University of Michigan">
                            <img src="images/logos/umich.png" alt="University of Michigan logo">
                            <span class="college-name visually-hidden">University of Michigan</span>
                        </a>
                        <a class="scroller-item" href="college.html?college=osu" aria-label="Ohio State University">
                            <img src="images/logos/osu.png" alt="Ohio State University logo">
                            <span class="college-name visually-hidden">Ohio State University</span>
                        </a>
                        <a class="scroller-item" href="college.html?college=northwestern" aria-label="Northwestern University">
                            <img src="images/logos/northwestern.png" alt="Northwestern University logo">
                            <span class="college-name visually-hidden">Northwestern University</span>
                        </a>
                        <a class="scroller-item" href="college.html?college=msu" aria-label="Michigan State University">
                            <img src="images/logos/msu.svg" alt="Michigan State University logo">
                            <span class="college-name visually-hidden">Michigan State University</span>
                        </a>
                        <a class="scroller-item" href="college.html?college=notredame" aria-label="University of Notre Dame">
                            <img src="images/logos/notredame.png" alt="University of Notre Dame logo">
                            <span class="college-name visually-hidden">University of Notre Dame</span>
                        </a>
                        <a class="scroller-item" href="college.html?college=iowa" aria-label="University of Iowa">
                            <img src="images/logos/iowa.png" alt="University of Iowa logo">
                            <span class="college-name visually-hidden">University of Iowa</span>
                        </a>
                    </div>
                </div>
            </div>

        </section>



        <!-- University search -->
        <section class="university-search" aria-label="Search for your university">
            <div class="search-box">
                <form id="uniSearchForm" action="index.html" method="get">
                    <label for="universitySearch" class="visually-hidden">Search for university</label>
                    <input id="universitySearch" name="school" type="search" placeholder="Search for your university (e.g. Indiana University)" aria-label="Search for your university">
                    <button type="submit" class="search-btn">Search</button>
                </form>
            </div>
        </section>

        <!-- About Section -->
        <section id="about" class="about-section" aria-label="About Nestd">
            <div class="about-inner">
                <div class="about-left">
                    <img class="about-logo" src="images/nestd-logo.png" alt="Nestd logo">
                    <h2>We make finding student housing simple</h2>
                    <p class="mission">Nestd connects students with verified off-campus housing so you can find convenient, affordable apartments near campus — fast. Search by school, compare listings, and message landlords directly.</p>
                    <a href="index.html" class="cta-button">Browse Listings</a>
                </div>

                <div class="about-right">
                    <h3>How it works</h3>
                    <div class="how-grid">
                        <div class="how-step">
                            <div class="step-number">1</div>
                            <div>
                                <h4>Search your school</h4>
                                <p>Start by searching for your university to see nearby listings curated for students.</p>
                            </div>
                        </div>
                        <div class="how-step">
                            <div class="step-number">2</div>
                            <div>
                                <h4>Compare filters</h4>
                                <p>Filter by price, distance, amenities, and lease options to find the right fit.</p>
                            </div>
                        </div>
                        <div class="how-step">
                            <div class="step-number">3</div>
                            <div>
                                <h4>Contact landlords</h4>
                                <p>Message landlords or apply directly through each listing — no extra fees.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="contact-section" aria-label="Contact Nestd">
            <div class="contact-inner">
                <div class="contact-left">
                    <img class="contact-logo" src="images/nestd-logo.png" alt="Nestd logo">
                    <h2>Need help or have a question?</h2>
                    <p class="contact-text">We're here to help. Reach out by email, phone, or message us below and we'll get back within 1 business day.</p>
                    <ul class="contact-methods">
                        <li><strong>Email:</strong> <a href="mailto:hello@nestd.com">hello@nestd.com</a></li>
                        <li><strong>Phone:</strong> <a href="tel:+1234567890">+1 (234) 567-890</a></li>
                        <li><strong>Hours:</strong> Mon–Fri, 9:00 AM–5:00 PM ET</li>
                    </ul>
                    <div class="socials">
                        <a href="#" aria-label="Twitter" class="social-link">Twitter</a>
                        <a href="#" aria-label="Instagram" class="social-link">Instagram</a>
                    </div>
                </div>

                <div class="contact-right">
                    <h3>Send us a message</h3>
                    <form id="contactForm" class="contact-form" action="#" method="post">
                        <label for="contactName" class="visually-hidden">Your name</label>
                        <input id="contactName" name="name" type="text" placeholder="Your name" required>
                        <label for="contactEmail" class="visually-hidden">Your email</label>
                        <input id="contactEmail" name="email" type="email" placeholder="Your email" required>
                        <label for="contactMessage" class="visually-hidden">Message</label>
                        <textarea id="contactMessage" name="message" rows="5" placeholder="How can we help?" required></textarea>
                        <button type="submit" class="cta-button">Send Message</button>
                        <p id="contactNotice" class="contact-notice" aria-live="polite" hidden>Thanks — we'll get back to you shortly.</p>
                    </form>
                </div>
            </div>
        </section>

    </main>

    <footer>
        <p>&copy; Nestd. All rights reserved.</p>
    </footer>

    <script>
        // Small enhancement: allow Enter to submit — form action already redirects to index with ?school=...
        // Nothing else needed here. Links already navigate to index.html with the school parameter.
    </script>

    <script>
    document.addEventListener('DOMContentLoaded', function () {
        const track = document.querySelector('.scroller-track');
        const container = document.querySelector('.college-logos');
        if (!track || !container) return;

        // Collect only the first set of items (ignore any intentionally-hidden duplicates if present)
        const initialItems = Array.from(track.querySelectorAll('.scroller-item')).filter(i => i.getAttribute('aria-hidden') !== 'true');

        // Map to data objects (src + name + href)
        const itemsData = initialItems.map(item => {
            const img = item.querySelector('img');
            const nameEl = item.querySelector('.college-name');
            const name = nameEl ? nameEl.textContent.trim() : (img ? (img.getAttribute('alt') || '').replace(/ logo$/i,'') : '');
            const href = item.getAttribute('href') || 'index.html';
            return { src: img ? img.getAttribute('src') : null, name, href };
        }).filter(d => d.src);

        // Clear current track while we load and validate images
        track.innerHTML = '';

        // Helper: create a scroller anchor element
        function makeItem(src, name, href) {
            const a = document.createElement('a');
            a.className = 'scroller-item';
            a.href = href || 'index.html';
            a.setAttribute('aria-label', name || '');

            const img = document.createElement('img');
            img.src = src;
            img.alt = name ? `${name} logo` : '';
            img.loading = 'lazy';
            a.appendChild(img);

            const span = document.createElement('span');
            span.className = 'college-name visually-hidden';
            span.textContent = name;
            a.appendChild(span);

            return a;
        }

        // Validate images by trying to preload them; only keep ones that succeed
        const loadChecks = itemsData.map(d => {
            return new Promise(resolve => {
                const img = new Image();
                img.src = d.src;
                img.onload = () => resolve(d);
                img.onerror = () => {
                    console.warn('Logo failed to load, skipping:', d.src);
                    resolve(null);
                };
            });
        });

        Promise.all(loadChecks).then(results => {
            const valid = results.filter(Boolean);
            if (valid.length === 0) {
                // Nothing valid to show — hide scroller
                container.style.display = 'none';
                return;
            }

            // Append the validated set
            valid.forEach(v => track.appendChild(makeItem(v.src, v.name, v.href)));

            // Duplicate the same set for seamless looping
            valid.forEach(v => {
                const clone = makeItem(v.src, v.name, v.href);
                clone.setAttribute('aria-hidden', 'true');
                track.appendChild(clone);
            });

            // Start animation after layout to avoid flicker / blanks
            requestAnimationFrame(() => {
                // Add class that switches animation-play-state to running
                track.classList.add('animate');
            });
        });
    });
    </script>

    <script>
    document.addEventListener('DOMContentLoaded', function () {
        const contactForm = document.getElementById('contactForm');
        if (!contactForm) return;
        contactForm.addEventListener('submit', function (e) {
            e.preventDefault();
            const name = contactForm.name.value.trim();
            const email = contactForm.email.value.trim();
            const message = contactForm.message.value.trim();
            const notice = document.getElementById('contactNotice');
            if (!name || !email || !message) {
                notice.hidden = false;
                notice.textContent = 'Please complete all fields.';
                notice.style.color = 'crimson';
                return;
            }
            notice.hidden = false;
            notice.textContent = 'Thanks — we will get back to you shortly.';
            notice.style.color = 'green';
            contactForm.reset();
        });
    });
    </script>
</body>
</html>